(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{5789:function(e,t,l){"use strict";t.Z=void 0;var a=l(38614);t.Z=a.Col},55673:function(e,t,l){"use strict";t.Z=void 0;var a=l(38614);t.Z=a.Row},13085:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return l(64379)}])},63222:function(e,t,l){"use strict";l.d(t,{Z:function(){return Loading_Loading}});var a=l(85893),o=l(25675),s=l.n(o);l(67294);var r={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)("div",{className:"w-[60px]",children:(0,a.jsx)(s(),{src:r,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},98825:function(e,t,l){"use strict";l.d(t,{I:function(){return ProductCard}});var a=l(85893),o=l(45770),s=l(25675),r=l.n(s),i=l(41664),d=l.n(i),u=l(11163),c=l(38293),n=l(90012),v=l.n(n);let ProductCard=e=>{let{product:t}=e,{addToCart:l}=(0,o.i)(),s=(0,u.useRouter)(),handleAddToCart=async()=>{t.qtyToShop=1,await l(t),s.push("/checkout")};return(0,a.jsxs)("div",{className:v().ProductCard,children:[(0,a.jsx)(d(),{href:"/product/".concat(null==t?void 0:t._id),children:(0,a.jsx)(r(),{width:100,height:100,quality:100,src:null==t?void 0:t.Pictures[0],alt:null==t?void 0:t.Title})}),(0,a.jsx)(c.C,{text:"Add To Cart",onClick:handleAddToCart}),(0,a.jsxs)("div",{className:"pt-2 md:p-3",children:[(0,a.jsx)("h2",{children:null==t?void 0:t.Title}),(0,a.jsxs)("p",{children:["$",null==t?void 0:t.Price]})]})]})}},64379:function(e,t,l){"use strict";l.r(t);var a=l(85893),o=l(86978),s=l(5789),r=l(69843),i=l(55673),d=l(64749),u=l(5121),c=l(11163),n=l(67294),v=l(66796),h=l.n(v),p=l(63222),f=l(98825),_=l(48389);t.default=()=>{let e=(0,c.useRouter)(),{setFilterValuesFun:t}=(0,_.b)(),[l,v]=(0,n.useState)([]),[g,P]=(0,n.useState)(""),[m,x]=(0,n.useState)([]),[S,y]=(0,n.useState)([]),[j,N]=(0,n.useState)(e.query.Make),[A,k]=(0,n.useState)(e.query.Part),[w,M]=(0,n.useState)(e.query.Model),[q,C]=(0,n.useState)(e.query.PartAccessory),[b,T]=(0,n.useState)(),[Z,E]=(0,n.useState)(!1),[z,L]=(0,n.useState)(),[W,D]=(0,n.useState)(1),getAllData=async()=>{E(!0),await u.Z.post("".concat("http://143.198.176.153/api","/products/get"),{page:W-1,pageSize:"20",priceRange:b,Make:j,Model:w,Part:A,PartAccessorries:q}).then(l=>{if(E(!1),200===l.status){var a,s,r,i,d,u,c,n,h;if(v(null===(a=l.data)||void 0===a?void 0:a.products),L(l.data.count),null==e?void 0:null===(s=e.query)||void 0===s?void 0:s.Make){let e=null===(u=l.data)||void 0===u?void 0:u.products[0];t(null==e?void 0:e.Make)}else if(null==e?void 0:null===(r=e.query)||void 0===r?void 0:r.Model){let e=null===(c=l.data)||void 0===c?void 0:c.products[0];t(null==e?void 0:e.Make,null==e?void 0:e.Model)}else if(null==e?void 0:null===(i=e.query)||void 0===i?void 0:i.Part){let e=null===(n=l.data)||void 0===n?void 0:n.products[0];t(null==e?void 0:e.Make,null==e?void 0:e.Model,null==e?void 0:e.Part)}else if(null==e?void 0:null===(d=e.query)||void 0===d?void 0:d.PartAccessorries){let e=null===(h=l.data)||void 0===h?void 0:h.products[0];t(null==e?void 0:e.Make,null==e?void 0:e.Model,null==e?void 0:e.Part,null==e?void 0:e.PartAccessorries)}}else(0,o.hW)(l.data.errorMessage)}).catch(e=>{E(!1),console.log(e)})},getAllParts=async()=>{E(!0),await u.Z.get("".concat("http://143.198.176.153/api","/products/parts")).then(e=>{if(E(!1),200===e.status){var t;x(null===(t=e.data)||void 0===t?void 0:t.map(e=>({value:null==e?void 0:e.part,label:null==e?void 0:e.part})))}else(0,o.hW)(e.data.errorMessage)}).catch(e=>{E(!1),console.log(e)})},getAllMakes=async()=>{E(!0),await u.Z.get("".concat("http://143.198.176.153/api","/products/makes")).then(e=>{if(E(!1),200===e.status){var t;y(null===(t=e.data)||void 0===t?void 0:t.map(e=>({value:null==e?void 0:e.make,label:null==e?void 0:e.make})))}else(0,o.hW)(e.data.errorMessage)}).catch(e=>{E(!1),console.log(e)})};(0,n.useEffect)(()=>{var t,l,a,o,s,r,i,d;return getAllParts(),getAllMakes(),(null===(t=e.query)||void 0===t?void 0:t.Make)&&N(null===(s=e.query)||void 0===s?void 0:s.Make),(null===(l=e.query)||void 0===l?void 0:l.Model)&&M(null===(r=e.query)||void 0===r?void 0:r.Model),(null===(a=e.query)||void 0===a?void 0:a.Part)&&k(null===(i=e.query)||void 0===i?void 0:i.Part),(null===(o=e.query)||void 0===o?void 0:o.PartAccessory)&&C(null===(d=e.query)||void 0===d?void 0:d.PartAccessory),()=>{}},[e.query]),(0,n.useEffect)(()=>(getAllData(),()=>{}),[W,j,w,q,A,b]);let sortProducts=(e,t)=>{switch(t){case"lth":return e.sort((e,t)=>e.Price-t.Price);case"htl":return e.sort((e,t)=>t.Price-e.Price);case"a-z":return e.sort((e,t)=>e.Title.localeCompare(t.Title));case"z-a":return e.sort((e,t)=>t.Title.localeCompare(e.Title));case"createdAt":return e.sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));default:return e}};return(0,a.jsxs)("div",{className:h().ShopPage,children:[(0,a.jsx)("div",{className:h().filters}),(0,a.jsxs)("div",{className:h().sortSection,children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)("h4",{className:"mb-0",children:"Products"}),(0,a.jsxs)("p",{className:"w-full",children:[null==l?void 0:l.length," of ",z," items"]})]}),(0,a.jsxs)("div",{className:h().right,children:[(0,a.jsx)("h4",{className:"mb-0",children:"Sort By:"}),(0,a.jsx)(d.default,{className:h().sortSelect,defaultValue:"createdAt",onChange:e=>{if(P(e),g){let t=sortProducts(l,e);v(t)}},placeholder:"Sort",options:[{value:"lth",label:"Price: Low to High"},{value:"htl",label:"Price: High to Low"},{value:"a-z",label:"Product Name: A-Z"},{value:"z-a",label:"Product Name: Z-A"},{value:"createdAt",label:"Released Date"}]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:Z?(0,a.jsx)(p.Z,{}):(0,a.jsx)(i.Z,{gutter:[23,23],className:"p-4",children:null==l?void 0:l.map((e,t)=>(0,a.jsx)(s.Z,{xs:12,md:8,lg:6,children:(0,a.jsx)(f.I,{product:e})},t))})}),(0,a.jsx)("div",{className:"flex justify-center my-10",children:(0,a.jsx)(r.default,{current:W,defaultPageSize:20,showSizeChanger:!1,onChange:e=>D(e),total:z})})]})}},90012:function(e){e.exports={ProductCard:"ProductCard_ProductCard__9rqA7"}},66796:function(e){e.exports={ShopPage:"shop_ShopPage__SFCNH",top:"shop_top__k5euW",title:"shop_title__tQfup",scroll:"shop_scroll__c8fAT",sortSection:"shop_sortSection__YcNWi",right:"shop_right__Zfqmd",sortSelect:"shop_sortSelect__Vofso",filters:"shop_filters__v5onB",filterSection:"shop_filterSection__p9Ebb",select:"shop_select__K8njP"}}},function(e){e.O(0,[614,858,843,774,888,179],function(){return e(e.s=13085)}),_N_E=e.O()}]);