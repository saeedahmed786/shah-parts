(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{21548:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return i(79383)}])},63222:function(e,t,i){"use strict";i.d(t,{Z:function(){return Loading_Loading}});var s=i(85893),a=i(25675),d=i.n(a);i(67294);var l={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)("div",{className:"w-[60px]",children:(0,s.jsx)(d(),{src:l,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},79383:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _id_}});var s=i(85893),a=i(86978),d=i(5789),l=i(41764),r=i(55673),n=i(20838),c=i(5121),o=i(25675),u=i.n(o),h=i(11163),v=i(67294);i(85035);var x=i(10615),p=i(13273),m=i.n(p),j=i(38293),g=i(45770),_=i(51024),w=i(56590),f=i(70302),C=i(5950),N=i.n(C),R=i(46403),P=i(80912);let{TextArea:b}=_.default;var ReviewsAndRatings_ReviewsAndRatings=e=>{let{reviews:t,product:i,updateParent:d}=e,[r,n]=(0,v.useState)(""),[o,u]=(0,v.useState)(0),[h,x]=(0,v.useState)(!1),handleSubmit=async()=>{(0,P.$8)()?r&&o&&(x(!0),await c.Z.put("".concat("https://www.shahparts.com/api","/products/add-review/").concat(null==i?void 0:i._id),{review:r,rating:o},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(async e=>{x(!1),200===e.status?((0,a.Ik)(e.data.successMessage),d()):(0,a.hW)(e.data.errorMessage)}).catch(e=>{x(!1),console.log(e)}),n(""),u(0)):(0,a.WY)("Please login to leave a review")};return(0,s.jsxs)("div",{className:N().ReviewsAndRatings,children:[(0,s.jsxs)(f.Z,{className:N().card,children:[(0,s.jsx)("h2",{className:"",children:"Leave a Review"}),(0,s.jsx)(l.Z,{onChange:e=>{u(e)},value:o}),(0,s.jsxs)("div",{className:"max-w-[510px]",children:[(0,s.jsx)(b,{rows:4,value:r,onChange:e=>{n(e.target.value)},placeholder:"Write your review here",className:N().input}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(j.C,{text:"Submit",onClick:handleSubmit,disabled:!r||!o||h})})]})]}),(null==t?void 0:t.length)>0&&(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsxs)("h2",{className:"mb-4",children:["Reviews (",null==t?void 0:t.length,")"]}),(0,s.jsx)(w.Z,{itemLayout:"horizontal",dataSource:t,renderItem:e=>{var t,i;return(0,s.jsx)(w.Z.Item,{children:(0,s.jsx)(w.Z.Item.Meta,{avatar:(0,s.jsx)(R.Z,{}),title:(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.firstName)+" "+(null==e?void 0:null===(i=e.user)||void 0===i?void 0:i.lastName),description:(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{disabled:!0,value:null==e?void 0:e.rating}),(0,s.jsx)("p",{children:null==e?void 0:e.review})]})})})}})]})]})},y=i(43187),Z=i(32615),S=i(42459);i(41664);var k=i(32714),A=i.n(k);let RelatedProductCard=e=>{let{product:t}=e,i=(0,h.useRouter)();return(0,s.jsxs)("div",{className:A().RelatedProductCard,onClick:()=>i.push("/product/".concat(null==t?void 0:t._id)),children:[(0,s.jsx)(u(),{width:100,height:100,quality:100,src:null==t?void 0:t.Pictures[0],alt:null==t?void 0:t.Title}),(0,s.jsxs)("div",{className:A().rightPart,children:[(0,s.jsx)("h2",{children:null==t?void 0:t.Title}),(0,s.jsxs)("p",{children:["$",null==t?void 0:t.Price]})]})]})};var I=i(63222),_id_=()=>{var e,t,i,o;let p=(0,h.useRouter)(),_=null===(e=p.query)||void 0===e?void 0:e.id,[w,f]=(0,v.useState)({}),[C,N]=(0,v.useState)([]),[R,P]=(0,v.useState)(!1),[b,k]=(0,v.useState)(1),[A,T]=(0,v.useState)(0),{addToCart:M}=(0,g.i)(),handleAddToCart=async()=>{w.qtyToShop=b,await M(w),p.push("/checkout")},getProduct=async e=>{P(!0),await c.Z.get("".concat("https://www.shahparts.com/api","/products/product/").concat(e)).then(e=>{if(P(!1),200===e.status){var t,i,s,d;f(e.data),getRelatedProducts(e.data),T((null===(i=e.data)||void 0===i?void 0:null===(t=i.Reviews)||void 0===t?void 0:t.reduce((e,t)=>e+(null==t?void 0:t.rating),0))/(null===(d=e.data)||void 0===d?void 0:null===(s=d.Reviews)||void 0===s?void 0:s.length))}else(0,a.hW)(e.data.errorMessage)}).catch(e=>{P(!1),console.log(e)})},getRelatedProducts=async e=>{await c.Z.post("".concat("https://www.shahparts.com/api","/products/get/related"),{Make:null==e?void 0:e.Make,Model:null==e?void 0:e.Model,Part:null==e?void 0:e.Part}).then(async e=>{if(200===e.status){var t;N(null===(t=e.data)||void 0===t?void 0:t.filter(e=>(null==e?void 0:e._id)!==_))}else(0,a.hW)(e.data.errorMessage)}).catch(e=>{console.log(e)})};(0,v.useEffect)(()=>(_&&getProduct(_),()=>{}),[_]);let q=[{key:"1",label:"Specifications",children:(0,s.jsx)(()=>{var e;let t=(e=["_id","createdAt","updatedAt","Pictures","__v","Featured","Title","Description","Price","CategoryImage","BrandImage","Reviews"],Object.keys(w).filter(t=>!e.includes(t)).reduce((e,t)=>(e[t]=w[t],e),{})),putSpaceInKeys=e=>null==e?void 0:e.replace(/([A-Z])/g," $1").trim();return(0,s.jsx)("div",{className:m().descriptionItemContainer,children:(0,s.jsx)("div",{children:(0,s.jsx)("ul",{className:m().descriptionItems,children:Object.entries(t).map(e=>{let[t,i]=e;return(0,s.jsxs)("li",{children:[(0,s.jsxs)("strong",{children:[putSpaceInKeys(t),":"]})," ",(0,s.jsx)("span",{children:i})]},t)})})})})},{})},{key:"2",label:"Reviews",children:(0,s.jsx)(ReviewsAndRatings_ReviewsAndRatings,{product:w,updateParent:()=>getProduct(_),reviews:null==w?void 0:w.Reviews})}];return R?(0,s.jsx)(I.Z,{}):w&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:m().product,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)(r.Z,{gutter:[80,23],className:"mb-[100px]",align:"middle",children:[(0,s.jsx)(d.Z,{xs:24,md:12,lg:12,children:(0,s.jsx)(x.lr,{className:m().Carousel,showArrows:!0,autoPlay:!0,showIndicators:!1,renderThumbs:()=>{var e;return null==w?void 0:null===(e=w.Pictures)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("div",{className:m().thumbContainer,children:[(0,s.jsx)(u(),{width:300,height:300,src:e}),(0,s.jsx)("p",{className:"text-white",children:"wejdfjqhd"})]},t))},children:null==w?void 0:null===(t=w.Pictures)||void 0===t?void 0:t.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(u(),{width:300,height:300,alt:"Carouse Picture",src:e}),(0,s.jsx)("p",{className:"text-white",children:"wejdfjqhd"})]},t))})}),(0,s.jsx)(d.Z,{xs:24,md:12,lg:12,className:m().right,children:(0,s.jsxs)("div",{className:"p-[0px] md:p-0 md:ml-3",children:[(0,s.jsx)("h3",{children:null==w?void 0:w.PartAccessorries}),(0,s.jsx)("h1",{children:null==w?void 0:w.Title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 my-4",children:[(0,s.jsx)(l.Z,{disabled:!0,allowHalf:!0,value:A}),(0,s.jsx)("b",{children:A?Math.round(10*A)/10:null})," ",(0,s.jsxs)("b",{children:["(",null==w?void 0:null===(i=w.Reviews)||void 0===i?void 0:i.length,")"]})]}),(0,s.jsxs)("h5",{children:["$",null==w?void 0:w.Price]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-4 flex-wrap items-center",children:[(0,s.jsxs)("div",{className:m().qtyContainer,children:[(0,s.jsx)(y.Z,{onClick:()=>b>1&&k(e=>e-1)}),(0,s.jsx)("div",{children:b}),(0,s.jsx)(Z.default,{onClick:()=>k(e=>e+1)})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(j.C,{text:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,s.jsx)(S.Z,{})," Add to cart"]}),loading:R,disabled:R,onClick:handleAddToCart})})]})]})})]}),(0,s.jsxs)(r.Z,{gutter:[80,23],children:[(0,s.jsx)(d.Z,{xs:24,md:16,className:m().specicificationsContainer,children:(0,s.jsx)(n.default,{rootClassName:m().productTabs,centered:!0,defaultActiveKey:"1",items:q,onChange:e=>{console.log(e)}})}),(0,s.jsx)(d.Z,{xs:24,md:8,children:(0,s.jsxs)("div",{className:m().relatedProducts,children:[(0,s.jsx)("h1",{children:"Similar Items"}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:null==C?void 0:null===(o=C.slice(0,4))||void 0===o?void 0:o.map((e,t)=>(0,s.jsx)(RelatedProductCard,{product:e},t))})]})})]})]})})})}},32714:function(e){e.exports={RelatedProductCard:"RelatedProductCard_RelatedProductCard__G5wo6",rightPart:"RelatedProductCard_rightPart__UVGvJ"}},5950:function(e){e.exports={ReviewsAndRatings:"ReviewsAndRatings_ReviewsAndRatings__TkQHU",card:"ReviewsAndRatings_card__Sv3dQ"}},13273:function(e){e.exports={product:"product_product__IUhH9",mainTitle:"product_mainTitle__HYvEs",Carousel:"product_Carousel___2iVf",thumbContainer:"product_thumbContainer__ENglW",right:"product_right__CUuGl",description:"product_description__dPtcC",qtyContainer:"product_qtyContainer__SBd3H",specicificationsContainer:"product_specicificationsContainer__3m8G1",productTabs:"product_productTabs__cYMc9",descriptionItemContainer:"product_descriptionItemContainer__gOpKQ",descriptionItems:"product_descriptionItems__MKU19",relatedProducts:"product_relatedProducts__Vlxbl"}}},function(e){e.O(0,[614,858,24,181,807,843,244,302,449,774,888,179],function(){return e(e.s=21548)}),_N_E=e.O()}]);