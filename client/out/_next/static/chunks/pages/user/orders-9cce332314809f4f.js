(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5122],{50388:function(e,d,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/orders",function(){return l(24350)}])},63222:function(e,d,l){"use strict";l.d(d,{Z:function(){return Loading_Loading}});var s=l(85893),i=l(25675),n=l.n(i);l(67294);var r={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)("div",{className:"w-[60px]",children:(0,s.jsx)(n(),{src:r,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},47448:function(e,d,l){"use strict";l.d(d,{p:function(){return AccountLayout}});var s=l(85893),i=l(67294),n=l(5789),r=l(55673),o=l(80912),t=l(41664),a=l.n(t),c=l(11163),u=l(58328),v=l.n(u);let AccoutSidebar=()=>{let e=(0,c.useRouter)();return(0,s.jsx)("div",{className:v().AccoutSidebar,style:{paddingRight:"23px"},children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"".concat(v().item," ").concat((null==e?void 0:e.pathname)==="/user/profile"?v().active:""),children:[(0,s.jsx)("div",{className:v().circle}),(0,s.jsx)("div",{children:(0,s.jsx)(a(),{href:"/user/profile",children:"Profile"})})]}),(0,s.jsxs)("div",{className:"".concat(v().item," ").concat((null==e?void 0:e.pathname)==="/user/change-password"?v().active:""),children:[(0,s.jsx)("div",{className:v().circle}),(0,s.jsx)("div",{children:(0,s.jsx)(a(),{href:"/user/change-password",children:"Change Password"})})]}),(0,s.jsxs)("div",{className:"".concat(v().item," ").concat((null==e?void 0:e.pathname)==="/user/orders"?v().active:""),children:[(0,s.jsx)("div",{className:v().circle}),(0,s.jsx)("div",{children:(0,s.jsx)(a(),{href:"/user/orders",children:"Orders"})})]}),(0,s.jsxs)("div",{className:"".concat(v().item," ").concat((null==e?void 0:e.pathname)==="/user/logout"?v().active:""),children:[(0,s.jsx)("div",{className:v().circle}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{href:"/login",onClick:()=>{(0,o.kS)(()=>{})},children:"Logout"})})]})]})})};var h=l(63222);let AccountLayout=e=>{let d=(0,o.$8)(),l=(0,c.useRouter)(),[t,a]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(0,o.$8)()?a(!1):(a(!1),l.push("/login"))},[]),(0,s.jsxs)("div",{className:"p-[17px] md:p-[40px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-[47px] font-bold",children:"My Account"}),(0,s.jsx)("p",{className:"text-[28px] font-[500]",children:null==d?void 0:d.fullName})]}),t?(0,s.jsx)(h.Z,{}):(0,s.jsxs)(r.Z,{style:{borderTop:"1px solid #d4d5d9"},children:[(0,s.jsx)(n.Z,{xs:24,md:6,children:(0,s.jsx)(AccoutSidebar,{})}),(0,s.jsx)(n.Z,{xs:24,md:18,children:(0,s.jsx)("div",{className:"md:p-5",children:e.children})})]})]})}},24350:function(e,d,l){"use strict";l.r(d);var s=l(85893),i=l(67294),n=l(80912);l(63222);var r=l(86978),o=l(47448),t=l(2307),a=l(53740),c=l(86266),u=l(5121),v=l(25675),h=l.n(v),x=l(83190),p=l.n(x);let{Title:j,Text:m}=a.default;d.default=()=>{let[e,d]=(0,i.useState)([]),[l,a]=(0,i.useState)(!1),getAllOrders=async()=>{var e,l;(0,n.$8)()&&(null===(e=(0,n.$8)())||void 0===e?void 0:e._id)&&(a(!0),await u.Z.get("".concat("http://localhost:8000/api","/orders/customer/orders/").concat(null===(l=(0,n.$8)())||void 0===l?void 0:l._id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{a(!1),200===e.status?d(e.data):(0,r.hW)(e.data.errorMessage)}).catch(e=>{a(!1),console.log(e),(0,r.hW)(null==e?void 0:e.message)}))};return(0,i.useEffect)(()=>(getAllOrders(),()=>{}),[]),(0,s.jsx)(o.p,{sidebar:!0,children:(0,s.jsx)("div",{className:p().orders,children:(0,s.jsx)("div",{className:"table-container border orders p-2 mb-10",children:(0,s.jsx)(t.Z,{columns:[{title:"Order ID",dataIndex:"_id",key:"_id"},{title:"Total Price",dataIndex:"totalPrice",key:"totalPrice",render:(e,d)=>(0,s.jsxs)("span",{children:["$",null==d?void 0:d.totalPrice]})},{title:"Status",dataIndex:"status",key:"status",render:(e,d)=>(0,s.jsx)("span",{className:"font-bold ".concat((null==d?void 0:d.status)!=="0"?"text-[#000]":"text-[red]"),children:(null==d?void 0:d.status)==="0"?(0,s.jsx)(c.default,{className:"text-[red]"}):(null==d?void 0:d.status)==="1"?"Just Placed":(null==d?void 0:d.status)==="2"?"Confirmed":(null==d?void 0:d.status)==="3"?"Prepared":(null==d?void 0:d.status)==="4"?"Out for delivery":(null==d?void 0:d.status)==="5"?"Complete":null})},{title:"Updated At",dataIndex:"statusUpdateTime",key:"statusUpdateTime"},{title:"Placed At",dataIndex:"placed",key:"placed"}],loading:l,dataSource:e,expandable:{expandedRowRender:e=>{var d,l,i,n,r,o,t,a,c,u,v,x,g,b,f,_,A,N,y,S,w;return(0,s.jsxs)("div",{className:p().orderDetails,children:[(0,s.jsx)("div",{className:p().orderProducts,children:null==e?void 0:null===(d=e.products)||void 0===d?void 0:d.map((e,d)=>(0,s.jsxs)("div",{className:"my-0",children:[(0,s.jsxs)("b",{children:["#",d+1]}),(0,s.jsx)(h(),{src:null==e?void 0:e.Pictures[0],height:64,width:64,alt:"images"}),(0,s.jsx)("span",{children:null==e?void 0:e.Title}),(0,s.jsxs)("span",{children:["Qty: ",null==e?void 0:e.qtyToShop]}),(0,s.jsxs)("span",{children:["$",parseInt((null==e?void 0:e.Price)*(null==e?void 0:e.qtyToShop))]})]},d))}),(0,s.jsxs)("div",{className:"border p-3 max-w-[300px]",children:[(0,s.jsx)(j,{level:6,children:"Order Details:"}),(0,s.jsxs)("div",{className:"flex justify-between gap-8",children:[(0,s.jsx)("b",{children:"Sub Total:"}),(0,s.jsxs)("b",{children:["$",null==e?void 0:e.subTotal]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-8 my-2",children:[(0,s.jsx)("b",{children:"Shipping Charges:"}),(0,s.jsxs)("b",{children:["$",null==e?void 0:e.shipping]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-8",children:[(0,s.jsx)("b",{children:"Order Total:"}),(0,s.jsxs)("b",{children:["$",null==e?void 0:e.totalPrice]})]})]}),(0,s.jsxs)("div",{className:"border p-3",children:[(0,s.jsx)(j,{level:6,children:"Billing Address:"}),(0,s.jsxs)(m,{children:[null==e?void 0:null===(l=e.billingAddress)||void 0===l?void 0:l.address,", ",null==e?void 0:null===(i=e.billingAddress)||void 0===i?void 0:i.city,",",(0,s.jsx)("br",{}),null==e?void 0:null===(n=e.billingAddress)||void 0===n?void 0:n.state,", ",null==e?void 0:null===(r=e.billingAddress)||void 0===r?void 0:r.country,", ",null==e?void 0:null===(o=e.billingAddress)||void 0===o?void 0:o.postalCode,(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),null==e?void 0:null===(t=e.billingAddress)||void 0===t?void 0:t.fullName,(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"mailto: ".concat(null==e?void 0:null===(a=e.billingAddress)||void 0===a?void 0:a.email),children:null==e?void 0:null===(c=e.billingAddress)||void 0===c?void 0:c.email})," ",(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"tel: ".concat(null==e?void 0:null===(u=e.billingAddress)||void 0===u?void 0:u.phone),children:null==e?void 0:null===(v=e.billingAddress)||void 0===v?void 0:v.phone})]})]}),(null==e?void 0:e.shippingAddress)&&(0,s.jsxs)("div",{className:"border p-3",children:[(0,s.jsx)(j,{level:6,children:"Shipping Address:"}),(0,s.jsxs)(m,{children:[null==e?void 0:null===(x=e.shippingAddress)||void 0===x?void 0:x.address,", ",null==e?void 0:null===(g=e.shippingAddress)||void 0===g?void 0:g.city,",",(0,s.jsx)("br",{}),null==e?void 0:null===(b=e.shippingAddress)||void 0===b?void 0:b.state,", ",null==e?void 0:null===(f=e.shippingAddress)||void 0===f?void 0:f.country,", ",null==e?void 0:null===(_=e.shippingAddress)||void 0===_?void 0:_.postalCode,(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),null==e?void 0:null===(A=e.shippingAddress)||void 0===A?void 0:A.fullName,(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"mailto: ".concat(null==e?void 0:null===(N=e.shippingAddress)||void 0===N?void 0:N.email),children:null==e?void 0:null===(y=e.shippingAddress)||void 0===y?void 0:y.email})," ",(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"tel: ".concat(null==e?void 0:null===(S=e.shippingAddress)||void 0===S?void 0:S.phone),children:null==e?void 0:null===(w=e.shippingAddress)||void 0===w?void 0:w.phone})]})]}),(null==e?void 0:e.notes)&&(0,s.jsxs)("div",{className:"border p-3",children:[(0,s.jsx)(j,{level:6,children:"Order Notes:"}),(0,s.jsx)(m,{children:null==e?void 0:e.notes})]})]})}},rowKey:e=>e._id})})})})}},58328:function(e){e.exports={AccoutSidebar:"AccountSidebar__AccoutSidebar__FDOZc",item:"AccountSidebar__item__Yalld",circle:"AccountSidebar__circle__VjaEE",active:"AccountSidebar__active__25mb6"}},83190:function(e){e.exports={orders:"orders_orders__c5_t2",headRow:"orders_headRow__LdjS4",orderDetails:"orders_orderDetails__8MEzu",orderProducts:"orders_orderProducts__OkXH4"}}},function(e){e.O(0,[8614,9858,1024,4055,4807,9843,2996,1059,2307,3740,9774,2888,179],function(){return e(e.s=50388)}),_N_E=e.O()}]);