(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{41167:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/brands",function(){return n(43631)}])},53890:function(e,a,n){"use strict";var t=n(85893),s=n(67294),l=n(56697),i=n(69855),d=n.n(i);a.Z=e=>{let{deleteBtn:a,deleteFun:n,id:i}=e,[r,c]=(0,s.useState)(!1),handleCancel=()=>{c(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"p-0",onClick:()=>{c(!0)},children:a}),(0,t.jsx)(l.Z,{centered:!0,title:!1,footer:!1,open:r,onCancel:handleCancel,children:(0,t.jsx)("div",{className:d().DeleteModal,children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"mt-4 text-[19px]",children:"Are you sure you want to delete?"}),(0,t.jsxs)("div",{className:d().buttons,children:[(0,t.jsx)("button",{onClick:handleCancel,children:"No"}),(0,t.jsx)("button",{onClick:()=>{n(i),handleCancel()},children:"Yes"})]})]})})})]})}},13310:function(e,a,n){"use strict";var t=n(85893),s=n(67294),l=n(82803),i=n.n(l),d=n(11187),r=n(28465),c=n(47550),o=n(35855),u=n(25675),h=n.n(u),m=n(63222);let{Dragger:x}=r.default;a.Z=e=>{let{updateFiles:a,value:n,noMultiple:l}=e,[r,u]=(0,s.useState)([]),[p,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(null==n?void 0:n.length)>0&&u(n)},[n]);let handleDelete=e=>{let n=r.filter((a,n)=>n!==e);u(n),a(n)};return(0,t.jsxs)("div",{children:[(0,t.jsx)(x,{maxCount:l?1:10,name:"file",multiple:!0,action:"".concat("http://localhost:8000/api","/files/upload"),onChange:async e=>{var n,t;g(!0);let{status:s}=e.file;await (null===(n=e.fileList)||void 0===n?void 0:n.map(e=>{var a;return null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.url}));let i=null===(t=e.fileList)||void 0===t?void 0:t.map(e=>{var a;return null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.url});"uploading"!==s&&g(!1),"done"===s?(l?(a([i[0]]),u([i[0]])):(null==r?void 0:r.length)>0?(a([...r,i[(null==i?void 0:i.length)-1]]),u([...r,i[(null==i?void 0:i.length)-1]])):(a([i[0]]),u([i[0]])),d.ZP.success("".concat(e.file.name," file uploaded successfully."))):"error"===s&&d.ZP.error("".concat(e.file.name," file upload failed."))},onDrop(e){console.log("Dropped files",e.dataTransfer.files)},className:i().dragger,showUploadList:!1,previewFile:!1,children:(0,t.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,t.jsx)(o.Z,{}),(0,t.jsxs)("div",{className:"text-[14px] font-[600] flex items-center justify-center w-auto gap-1",children:[(0,t.jsx)("div",{className:"text-[#1796E3]",children:"Click to upload pictures"}),(0,t.jsx)("div",{children:"or drag and drop"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4 flex-wrap items-center mt-4",children:[(null==r?void 0:r.length)>0&&(null==r?void 0:r.map((e,a)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-end",children:(0,t.jsx)(c.Z,{onClick:()=>handleDelete(a)})}),(0,t.jsx)(h(),{src:e,alt:"File",className:i().image,width:64,height:64})]},a))),p&&(0,t.jsx)("div",{className:"flex justify-center items-center h-[64px] w-[64px] border",children:(0,t.jsx)(m.Z,{})})]})]})}},63222:function(e,a,n){"use strict";n.d(a,{Z:function(){return Loading_Loading}});var t=n(85893),s=n(25675),l=n.n(s);n(67294);var i={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)("div",{className:"w-[60px]",children:(0,t.jsx)(l(),{src:i,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},80979:function(e,a,n){"use strict";n.d(a,{Z:function(){return Admin_AdminLayout}});var t=n(85893),s=n(80912),l=n(63222),i=n(5789),d=n(55673),r=n(11163),c=n(67294),o=n(41664),u=n.n(o),h=n(55373),m=n(44269),x=n(5005),p=n(78390),g=n(53598),j=n(606),v=n(73771),f=n.n(v),Admin_AdminSidebar=()=>{let e=(0,r.useRouter)();return(0,t.jsx)("div",{className:f().AdminSidebar,children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:f().linkContainer,children:[(0,t.jsx)("div",{className:f().linkWrapper,children:(0,t.jsx)(u(),{href:"/admin/dashboard",children:(0,t.jsxs)("button",{className:"".concat("/admin/dashboard"===e.pathname?f().activeLink:f().inactiveLink),children:[(0,t.jsx)(x.Z,{}),(0,t.jsx)("span",{children:"Dashboard"})]})})}),(0,t.jsx)("div",{className:f().linkWrapper,children:(0,t.jsx)(u(),{href:"/admin/categories",children:(0,t.jsxs)("button",{className:"".concat("/admin/categories"===e.pathname?f().activeLink:f().inactiveLink),children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)("span",{children:"Categories"})]})})}),(0,t.jsx)("div",{className:f().linkWrapper,children:(0,t.jsx)(u(),{href:"/admin/brands",children:(0,t.jsxs)("button",{className:"".concat("/admin/brands"===e.pathname?f().activeLink:f().inactiveLink),children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)("span",{children:"Brands"})]})})}),(0,t.jsx)("div",{className:f().linkWrapper,children:(0,t.jsx)(u(),{href:"/admin/products",children:(0,t.jsxs)("button",{className:"".concat("/admin/products"===e.pathname?f().activeLink:f().inactiveLink),children:[(0,t.jsx)(j.Z,{}),(0,t.jsx)("span",{children:"Products"})]})})}),(0,t.jsx)("div",{className:f().linkWrapper,children:(0,t.jsx)(u(),{href:"/admin/orders",children:(0,t.jsxs)("button",{className:"".concat("/admin/orders"===e.pathname?f().activeLink:f().inactiveLink),children:[(0,t.jsx)(g.Z,{}),(0,t.jsx)("span",{children:"Orders"})]})})})]}),(0,t.jsx)("div",{className:f().logoutWrapper,children:(0,t.jsxs)("a",{href:"/login",onClick:s.kS,className:f().logoutButton,children:[(0,t.jsx)("span",{className:f().logoutText,children:"Logout"}),(0,t.jsx)(p.Z,{})]})})]})})},Admin_AdminLayout=e=>{let a=(0,r.useRouter)(),[n,o]=(0,c.useState)(!0),[u,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{(0,s.$8)()&&1===(0,s.$8)().role||a.push("/login"),o(!1)},[]),n?(0,t.jsx)(l.Z,{}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"xxl:container mx-auto AdminLayout bg-[#F5F8FB] ".concat(u&&"blackMask"),children:e.sidebar?(0,t.jsxs)(d.Z,{className:"block md:flex mt-0",children:[(0,t.jsx)(i.Z,{xs:24,lg:4,className:"hidden lg:block AdminSidebar",children:(0,t.jsx)(Admin_AdminSidebar,{})}),(0,t.jsx)(i.Z,{xs:24,lg:20,className:"md:bg-[#F5F8FB]",children:(0,t.jsx)("div",{className:"md:p-5",children:(0,t.jsx)("div",{className:"mx-2",children:e.children})})})]}):e.children})})}},43631:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return brands}});var t=n(85893),s=n(67294),l=n(5121),i=n(83663),d=n(51024),r=n(86978),c=n(13310),o=n(38293);let CreateBrands=e=>{let{updateFunction:a}=e,[n,u]=(0,s.useState)(!1),[h,m]=(0,s.useState)(!1),[x,p]=(0,s.useState)({name:"",picture:""}),handleChange=(e,a)=>{p({...x,[e]:a})},showModal=()=>{m(!0)},handleCancel=()=>{m(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.C,{onClick:showModal,text:"Create Brand"}),(0,t.jsx)(i.default,{destroyOnClose:!0,title:"New Brand",footer:!1,visible:h,onCancel:handleCancel,children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(!0),l.Z.post("".concat("http://localhost:8000/api","/brands/create"),x,{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{u(!1),"OK"===e.statusText?((0,r.Ik)(e.data.successMessage),a(),handleCancel()):(0,r.hW)(e.data.errorMessage)}).catch(e=>{u(!1),console.log(e),(0,r.hW)(null==e?void 0:e.message)})},className:"text-center create-posts",children:[(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(d.default,{required:!0,type:"text",className:"form-control",placeholder:"Enter Brand Title",onChange:e=>handleChange("name",e.target.value)})}),(0,t.jsx)("div",{className:"mt-4 text-left",children:(0,t.jsx)(c.Z,{noMultiple:!0,updateFiles:e=>handleChange("picture",e[0])})}),(0,t.jsxs)("div",{style:{marginTop:"15px"},children:[(0,t.jsx)(o.C,{type:"primary",htmlType:"submit",loading:n,disabled:n,onClick:showModal,text:"Submit"}),"          "]})]})})]})};var u=n(58452);let UpdateBrands=e=>{let{updateFunction:a,brand:n}=e,[h,m]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),[g,j]=(0,s.useState)({name:"",picture:""}),handleChange=(e,a)=>{j({...g,[e]:a})},showModal=()=>{p(!0)},handleCancel=()=>{p(!1)};return(0,s.useEffect)(()=>(j(n),()=>{}),[n]),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{className:"btn",onClick:showModal,children:(0,t.jsx)(u.default,{})}),(0,t.jsx)(i.default,{destroyOnClose:!0,title:"Update Brand",footer:!1,visible:x,onCancel:handleCancel,children:(0,t.jsxs)("form",{className:"create-brands",onSubmit:e=>{e.preventDefault(),m(!0),l.Z.put("".concat("http://localhost:8000/api","/brands/update/").concat(null==n?void 0:n._id),g,{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{"OK"===e.statusText?(m(!1),(0,r.Ik)(e.data.successMessage),a(),handleCancel()):(0,r.hW)(e.data.errorMessage)}).catch(e=>{m(!1),console.log(e),(0,r.hW)(null==e?void 0:e.message)})},children:[(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(d.default,{required:!0,type:"text",className:"form-control",value:null==g?void 0:g.name,placeholder:"Enter Title",onChange:e=>handleChange("name",e.target.value)})}),(0,t.jsx)("div",{className:"mt-4 text-left",children:(0,t.jsx)(c.Z,{value:(null==g?void 0:g.picture)&&[null==g?void 0:g.picture],noMultiple:!0,updateFiles:e=>handleChange("picture",e[0])})}),(0,t.jsx)("div",{style:{marginTop:"15px"},children:(0,t.jsx)(o.C,{type:"primary",htmlType:"submit",loading:h,disabled:h,onClick:showModal,text:"Submit"})})]})})]})};var h=n(53890),m=n(80979),x=n(19702),p=n(2307),g=n(22170),j=n.n(g),brands=()=>{let[e,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(!1),getAllBrands=async()=>{i(!0),await l.Z.get("".concat("http://localhost:8000/api","/brands/get")).then(e=>{i(!1),"OK"===e.statusText?a(e.data):(0,r.hW)(e.data.errorMessage)}).catch(e=>{i(!1),console.log(e),(0,r.hW)(null==e?void 0:e.message)})};(0,s.useEffect)(()=>(getAllBrands(),()=>{}),[]);let updateFunction=()=>{getAllBrands()},deleteHandler=async e=>{await l.Z.delete("".concat("http://localhost:8000/api","/brands/delete/").concat(e),{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{"OK"===e.statusText?((0,r.Ik)(e.data.successMessage),getAllBrands()):(0,r.hW)(e.data.errorMessage)}).catch(e=>{console.log(e),(0,r.hW)(null==e?void 0:e.message)})},d=[{title:"#",dataIndex:"_id",sorter:(e,a)=>e._id.length-a._id.length},{title:"Name",dataIndex:"name",key:"name",sorter:(e,a)=>{var n;return null==e?void 0:null===(n=e.name)||void 0===n?void 0:n.localeCompare(null==a?void 0:a.name)}},{title:"Picture",sorter:!1,render:(e,a)=>{let{picture:n}=a;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"nameAndPic w-full flex justify-between",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("div",{className:"profileImg",children:n?(0,t.jsx)("img",{src:n,alt:"Category",className:"w-[60px] h-[60px] rounded-[50%] object-cover"}):(0,t.jsx)("div",{children:"No picture"})})})})})}},{title:"Actions",render:(e,a)=>(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(UpdateBrands,{updateFunction:updateFunction,brand:a}),(0,t.jsx)(h.Z,{id:null==a?void 0:a._id,deleteFun:deleteHandler,deleteBtn:(0,t.jsx)(x.default,{style:{verticalAlign:"middle"}})})]})})}];return(0,t.jsx)(m.Z,{sidebar:!0,children:(0,t.jsxs)("div",{className:j().brands,children:[(0,t.jsx)("h1",{className:"text-[33px] font-bold",children:"Brands"}),(0,t.jsx)("div",{className:"flex justify-end gap-4 my-4",children:(0,t.jsx)("div",{className:j().manageBrands,children:(0,t.jsx)(CreateBrands,{updateFunction:updateFunction})})}),(0,t.jsx)(p.Z,{loading:n,expandable:!1,columns:d,pagination:!1,dataSource:e})]})})}},69855:function(e){e.exports={DeleteModal:"DeleteModal_DeleteModal__HE1Sq",buttons:"DeleteModal_buttons__VnPhI"}},82803:function(e){e.exports={dragger:"Dragger_dragger__u1SrF"}},73771:function(e){e.exports={AdminSidebar:"AdminSidebar_AdminSidebar__6eFiO",linkContainer:"AdminSidebar_linkContainer__8QIYH",linkWrapper:"AdminSidebar_linkWrapper__4rIoI",activeLink:"AdminSidebar_activeLink__ocl97",inactiveLink:"AdminSidebar_inactiveLink__ZRV86",logoutWrapper:"AdminSidebar_logoutWrapper__loysx",logoutButton:"AdminSidebar_logoutButton__Ih4Gk",logoutText:"AdminSidebar_logoutText__ug7Ml"}},22170:function(e){e.exports={brands:"brands_brands__r_t1K",manageBrands:"brands_manageBrands__2JzOk"}}},function(e){e.O(0,[8614,9858,1024,4055,4807,9843,1972,2996,1059,2307,4806,6457,226,9774,2888,179],function(){return e(e.s=41167)}),_N_E=e.O()}]);