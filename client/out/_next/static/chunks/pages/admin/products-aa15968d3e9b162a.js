(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8209],{93003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"}},19702:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(l,i,a):l[i]=e[i]}return l.default=e,r&&r.set(e,l),l}(r(67294)),n=_interop_require_default(r(93003)),i=_interop_require_default(r(92074));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}var a=l.forwardRef(function(e,t){var r,a;return l.createElement(i.default,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},l=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),l.forEach(function(t){var l;l=r[t],t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l})}return e}({},e),a=a={ref:t,icon:n.default},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r.push.apply(r,l)}return r})(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))})},42678:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/products",function(){return r(79595)}])},53890:function(e,t,r){"use strict";var l=r(85893),n=r(67294),i=r(56697),a=r(69855),o=r.n(a);t.Z=e=>{let{deleteBtn:t,deleteFun:r,id:a}=e,[d,s]=(0,n.useState)(!1),handleCancel=()=>{s(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"p-0",onClick:()=>{s(!0)},children:t}),(0,l.jsx)(i.Z,{centered:!0,title:!1,footer:!1,open:d,onCancel:handleCancel,children:(0,l.jsx)("div",{className:o().DeleteModal,children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"mt-4 text-[19px]",children:"Are you sure you want to delete?"}),(0,l.jsxs)("div",{className:o().buttons,children:[(0,l.jsx)("button",{onClick:handleCancel,children:"No"}),(0,l.jsx)("button",{onClick:()=>{r(a),handleCancel()},children:"Yes"})]})]})})})]})}},63222:function(e,t,r){"use strict";r.d(t,{Z:function(){return Loading_Loading}});var l=r(85893),n=r(25675),i=r.n(n);r(67294);var a={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)("div",{className:"w-[60px]",children:(0,l.jsx)(i(),{src:a,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},80979:function(e,t,r){"use strict";r.d(t,{Z:function(){return Admin_AdminLayout}});var l=r(85893),n=r(80912),i=r(63222),a=r(5789),o=r(55673),d=r(11163),s=r(67294),c=r(41664),u=r.n(c),v=r(55373),p=r(44269),h=r(5005),x=r(78390),m=r(53598),g=r(606),f=r(73771),j=r.n(f),Admin_AdminSidebar=()=>{let e=(0,d.useRouter)();return(0,l.jsx)("div",{className:j().AdminSidebar,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:j().linkContainer,children:[(0,l.jsx)("div",{className:j().linkWrapper,children:(0,l.jsx)(u(),{href:"/admin/dashboard",children:(0,l.jsxs)("button",{className:"".concat("/admin/dashboard"===e.pathname?j().activeLink:j().inactiveLink),children:[(0,l.jsx)(h.Z,{}),(0,l.jsx)("span",{children:"Dashboard"})]})})}),(0,l.jsx)("div",{className:j().linkWrapper,children:(0,l.jsx)(u(),{href:"/admin/categories",children:(0,l.jsxs)("button",{className:"".concat("/admin/categories"===e.pathname?j().activeLink:j().inactiveLink),children:[(0,l.jsx)(p.Z,{}),(0,l.jsx)("span",{children:"Categories"})]})})}),(0,l.jsx)("div",{className:j().linkWrapper,children:(0,l.jsx)(u(),{href:"/admin/brands",children:(0,l.jsxs)("button",{className:"".concat("/admin/brands"===e.pathname?j().activeLink:j().inactiveLink),children:[(0,l.jsx)(v.Z,{}),(0,l.jsx)("span",{children:"Brands"})]})})}),(0,l.jsx)("div",{className:j().linkWrapper,children:(0,l.jsx)(u(),{href:"/admin/products",children:(0,l.jsxs)("button",{className:"".concat("/admin/products"===e.pathname?j().activeLink:j().inactiveLink),children:[(0,l.jsx)(g.Z,{}),(0,l.jsx)("span",{children:"Products"})]})})}),(0,l.jsx)("div",{className:j().linkWrapper,children:(0,l.jsx)(u(),{href:"/admin/orders",children:(0,l.jsxs)("button",{className:"".concat("/admin/orders"===e.pathname?j().activeLink:j().inactiveLink),children:[(0,l.jsx)(m.Z,{}),(0,l.jsx)("span",{children:"Orders"})]})})})]}),(0,l.jsx)("div",{className:j().logoutWrapper,children:(0,l.jsxs)("a",{href:"/login",onClick:n.kS,className:j().logoutButton,children:[(0,l.jsx)("span",{className:j().logoutText,children:"Logout"}),(0,l.jsx)(x.Z,{})]})})]})})},Admin_AdminLayout=e=>{let t=(0,d.useRouter)(),[r,c]=(0,s.useState)(!0),[u,v]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(0,n.$8)()&&1===(0,n.$8)().role||t.push("/login"),c(!1)},[]),r?(0,l.jsx)(i.Z,{}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"xxl:container mx-auto AdminLayout bg-[#F5F8FB] ".concat(u&&"blackMask"),children:e.sidebar?(0,l.jsxs)(o.Z,{className:"block md:flex mt-0",children:[(0,l.jsx)(a.Z,{xs:24,lg:4,className:"hidden lg:block AdminSidebar",children:(0,l.jsx)(Admin_AdminSidebar,{})}),(0,l.jsx)(a.Z,{xs:24,lg:20,className:"md:bg-[#F5F8FB]",children:(0,l.jsx)("div",{className:"md:p-5",children:(0,l.jsx)("div",{className:"mx-2",children:e.children})})})]}):e.children})})}},79595:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return products}});var l=r(85893),n=r(69843),i=r(2307),a=r(67294),o=r(19702),d=r(58452),s=r(42419),c=r(86994),u=r(11163),v=r(5121),p=r(41664),h=r.n(p),x=r(86978),m=r(80979),g=r(25675),f=r.n(g),j=r(38293),k=r(53890),y=r(9051),b=r.n(y);let BulkProductsUpload=e=>{let{updateParentData:t}=e,[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[d,s]=(0,a.useState)(!1),transformImages=e=>{let t=Object.keys(e).filter(e=>e.startsWith("Image")),r=t.map(t=>e[t]).filter(e=>e);return{Pictures:r}},handleUpload=async()=>{if(!r)return;o(!0);let e=new FileReader;e.onload=async e=>{let r;o(!1);try{r=JSON.parse(e.target.result)}catch(e){(0,x.hW)("Invalid JSON file");return}let l=r.map(e=>{var t;let r=null==e?void 0:null===(t=e.Categories)||void 0===t?void 0:t.split(" > "),l=(null==r?void 0:r.slice(-2)).map(e=>isNaN(e)||isNaN(parseFloat(e))?e:"All Other Parts");return r&&r.length>0?{...e,Part:l[0],PartAccessorries:l[1],...transformImages(e)}:e});if(s(!0),!(null==l?void 0:l.includes(null)))try{let e=await v.Z.post("".concat("http://localhost:8000/api","/products/bulk-upload"),{products:l},{headers:{authorization:"Bearer "+localStorage.getItem("token")}});s(!1),"OK"===e.statusText?((0,x.Ik)(e.data.successMessage),t()):(0,x.hW)(e.data.errorMessage)}catch(e){s(!1),console.log(e),(0,x.hW)(null==e?void 0:e.message)}},e.readAsText(r)};return(0,l.jsxs)("div",{className:b().BulkProductsUpload,children:[(0,l.jsx)("div",{children:(0,l.jsx)("h1",{children:"Bulk Upload JSON File"})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"file",accept:".json",onChange:e=>{n(e.target.files[0])}})}),(0,l.jsx)("div",{children:(0,l.jsx)(j.C,{text:"Upload",loading:d||i,disabled:d||i,onClick:handleUpload})})]})};var products=()=>{let e=(0,u.useRouter)(),[t,r]=(0,a.useState)(!1),[p,g]=(0,a.useState)([]),[y,b]=(0,a.useState)(1),[_,P]=(0,a.useState)(),N="TOYOTA > Mark X > Transmission & Drivetrain > Propeller Shafts".split(" > ");console.log(null==N?void 0:N.slice(-2));let getAllData=async()=>{r(!0),await v.Z.post("".concat("http://localhost:8000/api","/products/get"),{page:y-1,pageSize:"20"}).then(e=>{if(r(!1),200===e.status){var t;g(null===(t=e.data)||void 0===t?void 0:t.products),P(e.data.count)}else(0,x.hW)(e.data.errorMessage)}).catch(e=>{r(!1),console.log(e)})};(0,a.useEffect)(()=>(getAllData(),()=>{}),[y]);let deleteHandler=async e=>{await v.Z.delete("".concat("http://localhost:8000/api","/products/delete/").concat(e),{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{"OK"===e.statusText?((0,x.Ik)(e.data.successMessage),getAllData()):(0,x.hW)(e.data.errorMessage)}).catch(e=>{console.log(e),(0,x.hW)(null==e?void 0:e.message)})},C=[{title:"#",key:"index",render:(e,t,r)=>(0,l.jsx)("div",{children:(y-1)*20+r+1})},{title:"ID",dataIndex:"_id",key:"_id",sorter:(e,t)=>(null==e?void 0:e._id)>(null==t?void 0:t._id),render:(e,t)=>{let{_id:r}=t;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"text-[#0094DA] text-[12px] font-[500]",children:r})})}},{title:"Title",dataIndex:"Title",key:"Title",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Title)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Title)},render:(e,t)=>{let{Title:r}=t;return(0,l.jsx)("p",{className:"textElipsisTwoLines",children:r})}},{title:"Price",dataIndex:"Price",key:"Price",sorter:(e,t)=>(null==e?void 0:e.Price)-(null==t?void 0:t.Price)},{title:"Description",dataIndex:"Description",key:"Description",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Description)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Description)},render:(e,t)=>{let{Description:r}=t;return(0,l.jsx)("p",{className:"textElipsisTwoLines",children:r})}},{title:"Make",dataIndex:"Make",key:"Make",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Make)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Make)}},{title:"Model",dataIndex:"Model",key:"Model",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Model)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Model)}},{title:"Part",dataIndex:"Part",key:"Part",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Part)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Part)}},{title:"Part Accessorries",dataIndex:"PartAccessorries",key:"PartAccessorries",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.PartAccessorries)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.PartAccessorries)}},{title:"Location",dataIndex:"Location",key:"Location",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Location)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Location)}},{title:"Condition",dataIndex:"Condition",key:"Condition",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Condition)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Condition)}},{title:"Model Code",dataIndex:"ModelCode",key:"ModelCode",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.ModelCode)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.ModelCode)}},{title:"Reg Year/Month",dataIndex:"RegistrationYear",key:"RegistrationYear",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.RegistrationYear)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.RegistrationYear)}},{title:"Mileage",dataIndex:"Mileage",key:"Mileage",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Mileage)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Mileage)}},{title:"Mission Type",dataIndex:"MissionType",key:"MissionType",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.MissionType)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.MissionType)}},{title:"Engine Model",dataIndex:"EngineModel",key:"EngineModel",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.EngineModel)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.EngineModel)}},{title:"Engine Size",dataIndex:"EngineSize",key:"EngineSize",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.EngineSize)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.EngineSize)}},{title:"Fuel",dataIndex:"Fuel",key:"Fuel",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Fuel)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Fuel)}},{title:"Drive",dataIndex:"Drive",key:"Drive",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.Drive)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.Drive)}},{title:"Auto Parts Maker",dataIndex:"PutoPartsMaker",key:"PutoPartsMaker",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.PutoPartsMaker)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.PutoPartsMaker)}},{title:"Genuine Parts No.",dataIndex:"GenuinePartsNo",key:"GenuinePartsNo",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.GenuinePartsNo)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.GenuinePartsNo)}},{title:"Chassis No.",dataIndex:"ChassisNo",key:"ChassisNo",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.ChassisNo)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.ChassisNo)}},{title:"Ref No.",dataIndex:"RefNo",key:"RefNo",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.RefNo)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.RefNo)}},{title:"Gear Type",dataIndex:"GearType",key:"GearType",sorter:(e,t)=>{var r;return null==e?void 0:null===(r=e.GearType)||void 0===r?void 0:r.localeCompare(null==t?void 0:t.GearType)}},{title:"Pictures",dataIndex:"Pictures",key:"Pictures",render:(e,t)=>{let{Pictures:r}=t;return(0,l.jsx)("div",{className:"flex gap-2 flex-wrap items-center w-[130px]",children:(null==r?void 0:r.length)>0&&(null==r?void 0:r.map(e=>(0,l.jsx)(f(),{src:e,width:32,height:32,style:{width:"32px",height:"32px"},alt:"Product"})))})}},{title:"Actions",render:(t,r)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(h(),{href:"/product/"+r._id,children:(0,l.jsx)(s.default,{})}),(0,l.jsx)(d.default,{onClick:()=>e.push("/admin/update-product/".concat(r._id))}),(0,l.jsx)(k.Z,{id:null==r?void 0:r._id,deleteFun:deleteHandler,deleteBtn:(0,l.jsx)(o.default,{style:{verticalAlign:"middle"}})})]})})}];return console.log("TOYOTA > Soarer > 2001 > UA-UZZ40 > Body Parts > Fenders".split(" > ")[5]),(0,l.jsx)(m.Z,{sidebar:!0,children:(0,l.jsxs)("div",{className:"Pages pt-6",children:[(0,l.jsxs)("div",{className:"md:flex justify-between flex-wrap items-start pb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex gap-2 justify-start items-center pb-4",children:[(0,l.jsx)("span",{children:"Admin"})," ",(0,l.jsx)(c.default,{})," ",(0,l.jsx)("div",{className:"text-[#0094DA] bg-transparent",children:"Products"})]}),(0,l.jsx)("h1",{className:"text-[33px] font-bold",children:"Products"})]}),(0,l.jsx)("div",{className:"mt-8 md:mt-0",children:(0,l.jsx)(j.C,{type:"primary",onClick:()=>e.push("/admin/create-product"),htmlType:"submit",loading:t,disabled:t,text:"Add Product"})})]}),(0,l.jsx)(BulkProductsUpload,{updateParentData:getAllData}),(0,l.jsxs)("div",{className:"hidden md:block bg-white",children:[(0,l.jsxs)("h3",{className:"p-4 text-[28px]",children:["Total Results: ",_]}),(0,l.jsx)(i.Z,{loading:t,showSorterTooltip:!0,columns:C,pagination:!1,dataSource:p})]}),(0,l.jsx)("div",{className:"flex justify-center my-10",children:(0,l.jsx)(n.default,{current:y,defaultPageSize:20,showSizeChanger:!1,onChange:e=>b(e),total:_})})]})})}},9051:function(e){e.exports={BulkProductsUpload:"BulkProductsUpload_BulkProductsUpload__TL9TA"}},69855:function(e){e.exports={DeleteModal:"DeleteModal_DeleteModal__HE1Sq",buttons:"DeleteModal_buttons__VnPhI"}},73771:function(e){e.exports={AdminSidebar:"AdminSidebar_AdminSidebar__6eFiO",linkContainer:"AdminSidebar_linkContainer__8QIYH",linkWrapper:"AdminSidebar_linkWrapper__4rIoI",activeLink:"AdminSidebar_activeLink__ocl97",inactiveLink:"AdminSidebar_inactiveLink__ZRV86",logoutWrapper:"AdminSidebar_logoutWrapper__loysx",logoutButton:"AdminSidebar_logoutButton__Ih4Gk",logoutText:"AdminSidebar_logoutText__ug7Ml"}}},function(e){e.O(0,[8614,9858,1024,4055,4807,9843,1972,2996,1059,2307,226,9774,2888,179],function(){return e(e.s=42678)}),_N_E=e.O()}]);