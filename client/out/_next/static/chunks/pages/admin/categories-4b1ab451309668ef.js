(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8444],{58386:function(e,a,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/categories",function(){return i(95476)}])},63222:function(e,a,i){"use strict";i.d(a,{Z:function(){return Loading_Loading}});var n=i(85893),t=i(25675),s=i.n(t);i(67294);var l={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)("div",{className:"w-[60px]",children:(0,n.jsx)(s(),{src:l,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},80979:function(e,a,i){"use strict";i.d(a,{Z:function(){return Admin_AdminLayout}});var n=i(85893),t=i(80912),s=i(63222),l=i(5789),r=i(55673),d=i(11163),o=i(67294),c=i(41664),h=i.n(c),u=i(55373),x=i(44269),m=i(5005),g=i(78390),p=i(53598),j=i(606),k=i(73771),_=i.n(k),Admin_AdminSidebar=()=>{let e=(0,d.useRouter)();return(0,n.jsx)("div",{className:_().AdminSidebar,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:_().linkContainer,children:[(0,n.jsx)("div",{className:_().linkWrapper,children:(0,n.jsx)(h(),{href:"/admin/dashboard",children:(0,n.jsxs)("button",{className:"".concat("/admin/dashboard"===e.pathname?_().activeLink:_().inactiveLink),children:[(0,n.jsx)(m.Z,{}),(0,n.jsx)("span",{children:"Dashboard"})]})})}),(0,n.jsx)("div",{className:_().linkWrapper,children:(0,n.jsx)(h(),{href:"/admin/categories",children:(0,n.jsxs)("button",{className:"".concat("/admin/categories"===e.pathname?_().activeLink:_().inactiveLink),children:[(0,n.jsx)(x.Z,{}),(0,n.jsx)("span",{children:"Categories"})]})})}),(0,n.jsx)("div",{className:_().linkWrapper,children:(0,n.jsx)(h(),{href:"/admin/brands",children:(0,n.jsxs)("button",{className:"".concat("/admin/brands"===e.pathname?_().activeLink:_().inactiveLink),children:[(0,n.jsx)(u.Z,{}),(0,n.jsx)("span",{children:"Brands"})]})})}),(0,n.jsx)("div",{className:_().linkWrapper,children:(0,n.jsx)(h(),{href:"/admin/products",children:(0,n.jsxs)("button",{className:"".concat("/admin/products"===e.pathname?_().activeLink:_().inactiveLink),children:[(0,n.jsx)(j.Z,{}),(0,n.jsx)("span",{children:"Products"})]})})}),(0,n.jsx)("div",{className:_().linkWrapper,children:(0,n.jsx)(h(),{href:"/admin/orders",children:(0,n.jsxs)("button",{className:"".concat("/admin/orders"===e.pathname?_().activeLink:_().inactiveLink),children:[(0,n.jsx)(p.Z,{}),(0,n.jsx)("span",{children:"Orders"})]})})})]}),(0,n.jsx)("div",{className:_().logoutWrapper,children:(0,n.jsxs)("a",{href:"/login",onClick:t.kS,className:_().logoutButton,children:[(0,n.jsx)("span",{className:_().logoutText,children:"Logout"}),(0,n.jsx)(g.Z,{})]})})]})})},Admin_AdminLayout=e=>{let a=(0,d.useRouter)(),[i,c]=(0,o.useState)(!0),[h,u]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(0,t.$8)()&&1===(0,t.$8)().role||a.push("/login"),c(!1)},[]),i?(0,n.jsx)(s.Z,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"xxl:container mx-auto AdminLayout bg-[#F5F8FB] ".concat(h&&"blackMask"),children:e.sidebar?(0,n.jsxs)(r.Z,{className:"block md:flex mt-0",children:[(0,n.jsx)(l.Z,{xs:24,lg:4,className:"hidden lg:block AdminSidebar",children:(0,n.jsx)(Admin_AdminSidebar,{})}),(0,n.jsx)(l.Z,{xs:24,lg:20,className:"md:bg-[#F5F8FB]",children:(0,n.jsx)("div",{className:"md:p-5",children:(0,n.jsx)("div",{className:"mx-2",children:e.children})})})]}):e.children})})}},95476:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return categories}});var n=i(85893),t=i(67294),s=i(5121),l=i(86978),r=i(49049),d=i.n(r),o=i(38293);let BulkCategoriesUpload=e=>{let{updateParentData:a}=e,[i,r]=(0,t.useState)(null),[c,h]=(0,t.useState)(!1),[u,x]=(0,t.useState)(!1),handleUpload=async()=>{if(!i)return;h(!0);let e=new FileReader;e.onload=async e=>{h(!1);let i=JSON.parse(e.target.result);x(!0),await s.Z.post("".concat("http://localhost:8000/api","/categories/add"),{categories:i},{headers:{authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{x(!1),"OK"===e.statusText?((0,l.Ik)(e.data.successMessage),a()):(0,l.hW)(e.data.errorMessage)}).catch(e=>{x(!1),console.log(e),(0,l.hW)(null==e?void 0:e.message)})},e.readAsText(i)};return(0,n.jsxs)("div",{className:d().BulkCategoriesUpload,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Bulk Upload JSON File"}),(0,n.jsxs)("small",{className:"text-[red] block max-w-[600px] break-words",children:["(Note: Please ",(0,n.jsx)("b",{children:"download the json file"})," first and make changes to it and then upload it. Uploading new file will ",(0,n.jsx)("b",{children:"delete all previous categories"}),")"]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"file",accept:".json",onChange:e=>{r(e.target.files[0])}})}),(0,n.jsx)("div",{children:(0,n.jsx)(o.C,{text:"Upload",loading:u||c,disabled:u||c,onClick:handleUpload})})]})};var c=i(80979),h=i(2307),u=i(66295),x=i.n(u),categories=()=>{let[e,a]=(0,t.useState)([]),[i,r]=(0,t.useState)(!1),getAllCategories=async()=>{r(!0),await s.Z.get("".concat("http://localhost:8000/api","/categories/get")).then(e=>{r(!1),"OK"===e.statusText?a(e.data):(0,l.hW)(e.data.errorMessage)}).catch(e=>{r(!1),console.log(e),(0,l.hW)(null==e?void 0:e.message)})};(0,t.useEffect)(()=>(getAllCategories(),()=>{}),[]);let d=[{title:"#",key:"index",render:(e,a,i)=>(0,n.jsx)("div",{children:i+1})},{title:"Title",dataIndex:"title",key:"title",sorter:(e,a)=>{var i;return null==e?void 0:null===(i=e.title)||void 0===i?void 0:i.localeCompare(null==a?void 0:a.title)}}];return(0,n.jsx)(c.Z,{sidebar:!0,children:(0,n.jsxs)("div",{className:x().categories,children:[(0,n.jsxs)("div",{className:"flex justify-between items-center gap-4 my-4",children:[(0,n.jsx)("h1",{className:"text-[33px] font-bold",children:"Categories"}),(0,n.jsx)("div",{className:x().manageCategories,children:(0,n.jsx)(o.C,{text:"Download Categories JSON",onClick:()=>{let a=new Blob([JSON.stringify(e)],{type:"application/json"}),i=window.URL.createObjectURL(a),n=document.createElement("a");n.href=i,n.download="categories.json",n.click(),window.URL.revokeObjectURL(i)}})})]}),(0,n.jsx)(BulkCategoriesUpload,{updateParentData:getAllCategories}),(0,n.jsx)(h.Z,{loading:i,expandable:!1,columns:d,pagination:!1,dataSource:e})]})})}},49049:function(e){e.exports={BulkCategoriesUpload:"BulkCategoriesUpload_BulkCategoriesUpload___eeMQ"}},73771:function(e){e.exports={AdminSidebar:"AdminSidebar_AdminSidebar__6eFiO",linkContainer:"AdminSidebar_linkContainer__8QIYH",linkWrapper:"AdminSidebar_linkWrapper__4rIoI",activeLink:"AdminSidebar_activeLink__ocl97",inactiveLink:"AdminSidebar_inactiveLink__ZRV86",logoutWrapper:"AdminSidebar_logoutWrapper__loysx",logoutButton:"AdminSidebar_logoutButton__Ih4Gk",logoutText:"AdminSidebar_logoutText__ug7Ml"}},66295:function(e){e.exports={categories:"categories_categories__M6zkW",manageCategories:"categories_manageCategories__dh7QC"}}},function(e){e.O(0,[8614,9858,1024,4055,4807,9843,1972,2996,1059,2307,9774,2888,179],function(){return e(e.s=58386)}),_N_E=e.O()}]);